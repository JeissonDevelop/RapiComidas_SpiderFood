import{u as v,r as t,j as e}from"./index-BPJq8a9X.js";function b(){const{cartItems:r,removeFromCart:h,submitCart:p,cancelCart:x}=v(),[s,n]=t.useState(""),[c,l]=t.useState(""),[i,o]=t.useState(!1),[d,m]=t.useState(""),j=r.reduce((a,u)=>a+u.price*u.cartQuantity,0),N=()=>{if(!s.trim()||!c.trim()){m("Completa nombre y teléfono para enviar el pedido.");return}m(""),o(!0),p(s,c),setTimeout(()=>{o(!1),n(""),l("")},2e3)};return r.length===0&&!i?e.jsxs("div",{className:"cartContainer",children:[e.jsx("h4",{className:"cartTitle",children:"Carrito"}),e.jsx("p",{className:"emptyCart",children:"El carrito está vacío"})]}):e.jsxs("div",{className:"cartContainer",children:[e.jsx("h4",{className:"cartTitle",children:"Carrito"}),i?e.jsx("p",{className:"successMessage",children:"Pedido enviado. Recibirá un SMS una vez esté listo para recoger."}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"cartList",children:r.map(a=>e.jsxs("li",{className:"cartItem",children:[e.jsxs("div",{className:"cartItemInfo",children:[e.jsx("p",{className:"cartItemName",children:a.name}),e.jsxs("p",{className:"cartItemQty",children:["Cantidad: ",a.cartQuantity]}),e.jsxs("p",{className:"cartItemPrice",children:[a.price,"€ x ",a.cartQuantity," ="," ",a.price*a.cartQuantity,"€"]})]}),e.jsx("button",{className:"btnRemove",onClick:()=>h(a.id),children:"Quitar"})]},a.id))}),e.jsx("div",{className:"cartTotal",children:e.jsxs("p",{children:["Total: ",j,"€"]})}),e.jsxs("div",{className:"cartForm",children:[e.jsx("div",{className:"formGroup",children:e.jsx("input",{type:"text",placeholder:"Nombre",value:s,onChange:a=>n(a.target.value)})}),e.jsx("div",{className:"formGroup",children:e.jsx("input",{type:"tel",placeholder:"Teléfono",value:c,onChange:a=>l(a.target.value)})}),d&&e.jsx("p",{className:"formError",children:d}),e.jsxs("div",{className:"buttonGroup",children:[e.jsx("button",{className:"btnSubmit",onClick:N,children:"Enviar pedido"}),e.jsx("button",{className:"btnCancel",onClick:x,children:"Cancelar pedido"})]})]})]})]})}export{b as default};
