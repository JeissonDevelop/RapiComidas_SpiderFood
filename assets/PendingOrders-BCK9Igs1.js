import{u as m,r as p,j as e}from"./index-B7k46Z0v.js";function u(){const{orders:c,updateOrderStatus:o}=m(),[i,d]=p.useState(new Set),r=c.filter(s=>s.status==="pending"),l=(s,n)=>{i.has(s)||(d(t=>new Set(t).add(s)),o(s,n),setTimeout(()=>{d(t=>{const a=new Set(t);return a.delete(s),a})},1e3))};return e.jsxs("div",{className:"pendingOrders",children:[e.jsx("h4",{className:"ordersTitle",children:"Pedidos Pendientes"}),r.length===0?e.jsx("p",{style:{textAlign:"center",color:"#7f8c8d",padding:"20px"},children:"No hay pedidos pendientes"}):e.jsx("ul",{className:"ordersList",children:r.map(s=>{const n=i.has(s.id);return e.jsxs("li",{className:"orderItem",children:[e.jsxs("div",{className:"orderHeader",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"orderId",children:["Pedido #",s.id]}),e.jsxs("p",{className:"customerInfo",children:[s.customerName," - ",s.customerPhone]})]}),e.jsx("span",{className:"orderDate",children:new Date(s.date).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsx("div",{className:"orderItems",children:s.items.map((t,a)=>e.jsxs("div",{className:"orderItemDetail",children:[e.jsxs("span",{children:[t.name," x",t.quantity]}),e.jsxs("span",{children:[(t.price*t.quantity).toFixed(2),"€"]})]},a))}),e.jsx("div",{className:"orderTotal",children:e.jsxs("strong",{children:["Total: ",s.total.toFixed(2),"€"]})}),e.jsxs("div",{className:"orderActions",children:[e.jsx("span",{className:"orderStatus pending",children:"Pendiente"}),e.jsx("button",{className:"btnComplete",onClick:()=>l(s.id,"completed"),disabled:n,style:n?{opacity:.5,cursor:"not-allowed"}:{},children:"Completar"}),e.jsx("button",{className:"btnCancel",onClick:()=>l(s.id,"cancelled"),disabled:n,style:n?{opacity:.5,cursor:"not-allowed"}:{},children:"Cancelar"})]})]},s.id)})})]})}export{u as default};
